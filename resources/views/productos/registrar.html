{% extends "layouts/app.html" %}

{% block title %}Registrar nuevo producto{% endblock %}

{% block mantener_productos %}active{% endblock %}

{% block content %}
    <div class="row">
        {% if producto is not defined %}
            <h2>Registrar nuevo producto</h2>
        {% else %}
            <h2>Actualizar producto</h2>
        {% endif %}
        <hr>
    </div>
    {% if error %}
        <div class="row">
            <div class="alert alert-danger" role="alert">
                {{ error }}
            </div>
        </div>
    {% endif %}
    {% if success %}
        <div class="row">
            <div class="alert alert-success" role="alert">
                {{ success }}
            </div>
        </div>
    {% endif %}
    {% if producto is defined %}
        <div class="text-center">
            <div style="display:inline-block;width:600px;height:350px;content:'';background-position:50% 50%;background-size:cover;border-radius:4px;background-image:url(data:image/png;base64,{{ producto.imagen_producto.decode('utf-8') }});margin-bottom:15px;"></div>
        </div>
    {% endif %}
    <form method="POST" class="form-horizontal" accept-charset="utf-8" enctype="multipart/form-data">
        <div class="form-group">
            <label class="col-sm-4" for="nombre_producto">Nombre de producto</label>
            <div class="col-sm-8">
                {% if producto is defined %}
                    <input type="text" id="nombre_producto" class="form-control" name="nombre_producto" placeholder="Nombre de producto" value="{{ producto.nombre_producto }}">
                {% else %}
                    <input type="text" id="nombre_producto" class="form-control" name="nombre_producto" placeholder="Nombre de producto">
                {% endif %}
            </div>
        </div>
        <div class="form-group">
            <label class="col-sm-4" for="variedad_producto">Variedad de producto</label>
            <div class="col-sm-8">
                {% if producto is defined %}
                    <input type="text" id="variedad_producto" class="form-control" name="variedad_producto" placeholder="Variedad de producto" value="{{ producto.variedad_producto }}">
                {% else %}
                    <input type="text" id="variedad_producto" class="form-control" name="variedad_producto" placeholder="Variedad de producto">
                {% endif %}
            </div>
        </div>
        <div class="form-group">
            <label class="col-sm-4" for="presentacion_producto">Presentación de producto</label>
            <div class="col-sm-8">
                {% if producto is defined %}
                    <input type="text" id="presentacion_producto" class="form-control" name="presentacion_producto" placeholder="Presentación del producto" value="{{ producto.presentacion_producto }}">
                {% else %}
                    <input type="text" id="presentacion_producto" class="form-control" name="presentacion_producto" placeholder="Presentación del producto">
                {% endif %}
            </div>
        </div>
        <div class="form-group">
            <label class="col-sm-4" for="stock_producto">Stock</label>
            <div class="col-sm-8">
                {% if producto is defined %}
                    <input type="text" id="stock_producto" class="form-control" name="stock_producto" placeholder="Stock" value="{{ producto.stock }}">
                {% else %}
                    <input type="text" id="stock_producto" class="form-control" name="stock_producto" placeholder="Stock">
                {% endif %}
            </div>
        </div>
        <div class="form-group">
            <label class="col-sm-4" for="precio_producto">Precio (S/.)</label>
            <div class="col-sm-8">
                {% if producto is defined %}
                    <input type="text" id="precio_producto" class="form-control" name="precio_producto" placeholder="Precio" value="{{ producto.precio }}">
                {% else %}
                    <input type="text" id="precio_producto" class="form-control" name="precio_producto" placeholder="Precio">
                {% endif %}
            </div>
        </div>
        <div class="form-group">
            <label class="col-sm-4" for="imagen_producto">Imagen de muestra</label>
            <div class="col-sm-8">
                <input type="file" id="imagen_producto" class="form-control" name="imagen_producto">
            </div>
        </div>
        <div class="col-sm-offset-4 col-sm-8">
            {% if producto is defined %}
                <button type="submit" class="btn btn-primary">Actualizar</button>
            {% else %}
                <button type="submit" class="btn btn-primary">Registrar</button>
            {% endif %}
        </div>
    </form>
{% endblock %}
